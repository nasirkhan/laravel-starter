# ====================================================================
# STAGING ENVIRONMENT CONFIGURATION
# ====================================================================
# This file contains settings for staging/testing environment.
# Staging should mirror production as closely as possible.
# ====================================================================

APP_NAME="Laravel Starter - Staging"
APP_ENV=staging
APP_KEY=base64:GENERATE_UNIQUE_KEY_FOR_STAGING
APP_DEBUG=false
APP_TIMEZONE="UTC"
APP_URL=https://staging.yourapp.com

# Initial Configuration
INITIAL_USERNAME=100000
USER_REGISTRATION=true

# Seeding Configuration - Usually false in staging
SEED_DUMMY_DATA=false

# Maintenance Mode
APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

# Logging - Use 'stack' for comprehensive logging
LOG_CHANNEL=stack
LOG_STACK=daily
LOG_DEPRECATIONS_CHANNEL=stack
LOG_LEVEL=warning

# ====================================================================
# DATABASE CONFIGURATION
# ====================================================================
# Use production-like database setup
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel_starter_staging
DB_USERNAME=staging_user
DB_PASSWORD=secure_staging_password

# ====================================================================
# SESSION & CACHE
# ====================================================================
# Use database or redis for distributed sessions
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=.yourapp.com
SESSION_SAME_SITE=lax
SESSION_SECURE_COOKIE=true

# Broadcast - Use Redis for real-time features
BROADCAST_CONNECTION=redis

# Filesystem - Use cloud storage if available
FILESYSTEM_DISK=local

# Queue - Use database or redis for background jobs
QUEUE_CONNECTION=database

# Cache - Use Redis for better performance
CACHE_STORE=redis
CACHE_PREFIX=staging_

# ====================================================================
# REDIS CONFIGURATION
# ====================================================================
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=secure_redis_password
REDIS_PORT=6379
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2

# ====================================================================
# MAIL CONFIGURATION
# ====================================================================
# Use real mail service for testing emails
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=your_mailtrap_username
MAIL_PASSWORD=your_mailtrap_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="staging@yourapp.com"
MAIL_FROM_NAME="${APP_NAME}"

# Alternative: Use SendGrid, Mailgun, or SES
# MAIL_MAILER=sendgrid
# SENDGRID_API_KEY=your_sendgrid_api_key

# ====================================================================
# AWS / CLOUD STORAGE
# ====================================================================
# Configure if using S3 for file uploads
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=laravel-starter-staging
AWS_USE_PATH_STYLE_ENDPOINT=false

# ====================================================================
# VITE CONFIGURATION
# ====================================================================
VITE_APP_NAME="${APP_NAME}"

# ====================================================================
# SOCIAL LOGIN - Staging Credentials
# ====================================================================
# Use separate OAuth apps for staging

# Facebook OAuth
FACEBOOK_ACTIVE=true
FACEBOOK_CLIENT_ID=staging_facebook_app_id
FACEBOOK_CLIENT_SECRET=staging_facebook_app_secret
FACEBOOK_REDIRECT=https://staging.yourapp.com/login/facebook/callback

# GitHub OAuth
GITHUB_ACTIVE=true
GITHUB_CLIENT_ID=staging_github_client_id
GITHUB_CLIENT_SECRET=staging_github_client_secret
GITHUB_REDIRECT=https://staging.yourapp.com/login/github/callback

# Google OAuth
GOOGLE_ACTIVE=true
GOOGLE_CLIENT_ID=staging_google_client_id
GOOGLE_CLIENT_SECRET=staging_google_client_secret
GOOGLE_REDIRECT=https://staging.yourapp.com/login/google/callback

# ====================================================================
# SECURITY SETTINGS
# ====================================================================
# Enable security features for staging
SANCTUM_STATEFUL_DOMAINS=staging.yourapp.com
SESSION_SECURE_COOKIE=true

# ====================================================================
# MONITORING & ERROR TRACKING (Optional)
# ====================================================================
# Sentry for error tracking
# SENTRY_LARAVEL_DSN=your_sentry_dsn
# SENTRY_TRACES_SAMPLE_RATE=0.2

# Laravel Pulse (if using)
# PULSE_ENABLED=true

# ====================================================================
# PERFORMANCE SETTINGS
# ====================================================================
# Enable optimizations similar to production
CACHE_DRIVER=redis
VIEW_CACHE_PATH=bootstrap/cache/views

# ====================================================================
# RATE LIMITING
# ====================================================================
# Configure rate limits for API endpoints
THROTTLE_PER_MINUTE=60

# ====================================================================
# BACKUP CONFIGURATION
# ====================================================================
# Configure automated backups
# BACKUP_MAIL_TO=admin@yourapp.com
# BACKUP_SLACK_WEBHOOK=your_slack_webhook_url
